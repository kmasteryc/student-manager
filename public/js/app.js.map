{"version":3,"sources":["app.js","cl4ss.js","sidebar.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["$(document).ready(function () {\n    PNotify.prototype.options.styling = \"fontawesome\";\n\n    $('.navbar-toggle-sidebar').click(function () {\n        $('.navbar-nav').toggleClass('slide-in');\n        $('.side-body').toggleClass('body-slide-in');\n        $('#search').removeClass('in').addClass('collapse').slideUp(200);\n    });\n\n    $('#search-trigger').click(function () {\n        $('.navbar-nav').removeClass('slide-in');\n        $('.side-body').removeClass('body-slide-in');\n        $('.search-input').focus();\n    });\n\n    $(document).pjax('a[data-pjax]', '#pjax-container', {timeout: 5000});\n\n    $(document).on('pjax:send', function () {\n        $('#pjax-container').html(ajaxIcon())\n    });\n\n    $(document).on('pjax:complete ready', function () {\n        call_pickadate();\n        call_form_pjax();\n        call_btn_delete();\n        call_select2();\n        call_pagination();\n        call_datatable();\n    });\n\n});\nfunction call_select2(){\n    if ($(\".select2\") != undefined){\n        $(\".select2\").select2();\n    }\n}\nfunction call_form_pjax(){\n    $(\"form[data-pjax]\").submit(function(event){\n        event.preventDefault();\n        $(this).find(\".icon-loading-btn\").addClass('fa-spinner fa-spin');\n        form_ajax($(this).serialize(), $(this).attr('action'), $(this).attr('method'));\n    });\n}\n\nfunction call_pagination(){\n    if ($('.pagination').length > 0){\n        $('.pagination').find('a').attr('data-pjax','');\n    }\n}\nfunction call_btn_delete(){\n    $(\".btn-delete\").click(function(){\n        var answer = areYouSure();\n        if (answer) {\n            var tr = $(this).closest('tr');\n            tr.hide('slow');\n        }\n    });\n}\nfunction call_datatable(){\n        if ($(\".datatable\") != undefined) {\n            $(\".datatable\").DataTable();\n        }\n}\nfunction call_pickadate() {\n    if ($(\".pickadate\") != undefined) {\n        $(\".pickadate\").pickadate({\n            format: \"yyyy/m/d\"\n        });\n    }\n}\nfunction form_ajax(data, url, method='POST') {\n    $.ajax({\n        url: url,\n        method: method,\n        data: data,\n        success: function () {\n            console.log('AJAX OK');\n            $(\".icon-loading-btn\").removeClass('fa-spinner fa-spin');\n\n            var success_text = $(\"input[name='success_text']\").val();\n            if (success_text == undefined) {\n                success_text = 'OK';\n            }\n            showNotify('success', success_text);\n        },\n        error: function (errors) {\n            if (errors.reponseJSON != '') {\n                // If has error from server. Get it!\n                var err_str = '';\n                $.each(errors.responseJSON, function (key, value) {\n                    err_str += \"<li>\" + value + \"</li>\";\n                });\n                err_str = \"<ul>\" + err_str + \"</ul>\";\n                $(\".icon-loading-btn\").removeClass('fa-spinner fa-spin');\n                showNotify('error', err_str, 'Error!');\n            }\n            else {\n                // Error from form defined\n                var error_text = $(\"input[name='error_text']\").val();\n\n                if (typeof error_text == undefined) {\n                    error_text = 'OK';\n                }\n                $(\".icon-loading-btn\").removeClass('fa-spinner fa-spin');\n                showNotify('error', error_text);\n            }\n        }\n    });\n}\n\n\nfunction showNotify(type, text, title = '') {\n    switch (type) {\n        case 'info':\n            title = 'Updated!';\n            break;\n        case 'success':\n            title = 'Success!';\n            break;\n        case 'error':\n            title = 'Error!';\n            break;\n    }\n    new PNotify({\n        title: title,\n        text: text,\n        type: type\n    });\n    clearHiddenText();\n}\n\nfunction ajaxIcon() {\n    var html = `\n        <p style='text-align: center'>\n            <img src='${url('img/loading.gif')}'>\n        </p>\n    `;\n    return html;\n}\n\nfunction clearHiddenText() {\n    $(\"input[name='success_text']\").val('');\n    $(\"input[name='info_text']\").val('');\n    $(\"input[name='error_text']\").val('');\n}\n\nfunction areYouSure() {\n    return window.confirm(\"DELETE THIS? IT CAN'T BE UNDONE\");\n}\n","/**\n * Created by kmasteryc on 16/08/2016.\n */\n$(document).ready(function () {\n\n    $(document).on('click', \"#all_students input[type='checkbox']\", function () {\n        var row = $(this).parent().parent();\n        $(\"#current_students\").append(row);\n        var text = 'Add <b>' + $(this).parent().next().html() + '</b> successfully!';\n        $('input[name=\"success_text\"]').val(text);\n\n        $(\"#student-form\").trigger('submit');\n    });\n\n    $(document).on('click', \"#current_students input[type='checkbox']\", function () {\n        var row = $(this).parent().parent();\n        $(\"#all_students\").prepend(row);\n        var text = 'Remove <b>' + $(this).parent().next().html() + '</b> successfully!';\n        $('input[name=\"success_text\"]').val(text);\n\n        $(\"#student-form\").trigger('submit');\n    });\n\n});","$(document).ready(function () {\n    // $(\".custom-dropdown li\").click(function () {\n    //     $(\".custom-dropdown li\").removeClass('active');\n    //     $(this).addClass('active');\n    // });\n});\n"],"sourceRoot":"/source/"}